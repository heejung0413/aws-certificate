
### 블록수준 스토리지
- SSD, 하드디스크
- EC2 인스턴스에도 하드디스크가 있다. 유형에 따라 인스턴스 스토어 볼륨이라고 하는 로컬 저장소를 제공할 수 있다.이러한 볼륨은 EC2 인스턴스가 실제로 실행되는 호스트에 물리적으로 연결이 되게 하고 일반 하드 디스크처럼 바로 작성할 수도 있다.
### 인스턴스 스토어
- EC2 인스턴스에서는 임시 블록 수준 스토리지를 제공한다. 인스턴스 스토어는 물리적으로 EC2 인스턴스의 호스트 컴퓨터에 연결되어 있고, 인스턴스 수명과 동일한 디스크 스토리지다.
- 인스턴스가 종료되면 인스턴스 스토어의 데이터가 손실된다. 왜냐하면 EC2 인스턴스가 기존 호스트와는 다른 호스트에서 시작될 가능성이 있기 때문이다. 
- 인스턴스 스토어 볼륨은 휘발성 또는 일시적인 특성 때문에 드라이브에 작성한 데이터를 잃어도 괜찮은 상황에서 유용하다. 예를 들면, 임시 파일, 스크래치 데이터, 재생성할 수 있는 데이터 등이 있다.

### EBS(Elastic Block Store)
- 블록 수준 스토리지 볼륨을 제공하는 서비스
- EC2 인스턴스를 중지/종료하더라도 EBS 볼륨의 모든 데이터를 사용할 수 있다.
- EBS 볼륨을 생성하려면 구성을 정의하고 프로비저닝을 한다. 생성한다음 EC2 인스턴스에 연결할 수 있다.
- 보존해야 하는 데이터를 위한 것이므로 데이터 백업이 중요하다. 스냅샷을 생성하여 EBS 볼륨을 증분 백업할 수 있다.

> 💡 **증분 백업**이란?
> - 이전 백업 이후에 바뀐 데이터만 백업하는 방식
> - 마지막 백업 이후 변경된 데이터만 백업!

### EBS 스냅샷
- 처음 볼륨을 백업하면 모든 데이터가 복사된다. 이후 백업은 최근의 스냅샷 이후 변경된 데이터 블록만 저장된다.

---

## Amazon Simple Storage Service (Amazon S3)
- 스토리지 서비스
- 규모에 상관없이 무한대의 데이터를 저장하고 검색할 수 있는 데이터 저장소
- 데이터는 객체로 저장되지만 객체를 파일 디렉터리에 저장하지 않고 버킷이라는 곳에 저장한다.
	- 하드 드라이브에 있는 파일은 객체, 파일 디렉터리는 버킷이라고 생각하면 된다.
	- 업로드할 수 있는 최대 객체크기는 5TB
- 객체에 버전을 지정하면 실수로 삭제되는 일을 방지할 수 있다. 문서 기록처럼 객체의 이전 버전을 항상 유지한다.
- 여러 버킷을 생성하고 다양한 데이터 클래스 또는 계층을 저장할 수도 있다. 
- 여러 계층에 데이터를 배치할 수도 있다. 이러한 계층들은 다양한 스토리지 사례에 맞는 매커니ㅡㅈㅁ을 제공한다.
---

> 💡 버킷이란?
> - 파일을 저장하기 위한 폴더 개념, 단순한 폴더가 아니라 고유한 이름을 가진 저장소 단위
```
AWS S3
 └── 버킷(Bucket) ← 파일 저장하는 공간
      └── 객체(Object) ← 실제 저장된 파일들 (ex. 이미지, PDF, txt 등)
```
- 특징
	- 고유한 이름 (중복 불가, 도메일처럼)
	- 폴더처럼 보이지만 실제로는 모든 파일이 키(key) 기반으로 저장됨
	- 누구나 접근하거나 특정사용자만 접근할 수 있음
	- 어느 지역에 둘지 설정 가능
	- 파일을 덮어쓸 때 이전 버전도 보관가능
- 예를 들어
- `my-photo-bucket`이라는 버킷 생성
- 그 안에 파일 업로드
- 파일들은 각각 객체가 됨
```
https://my-photo-bucket.s3.amazonaws.com/summer/beach.jpg
```

---

### S3 스토리지 클래스
- 사용한 만큼한 지불한다.
- 스코리지 클래스를 선택할 때 두 사지 요소를 고려한다. 1. 데이터를 검색할 빈도, 2. 필요한 데이터 가용성

> 데이터 가용성이란?
> 필요할 때 데이터를 빠르고 안전하게 꺼내서 쓸 수 있는 상태. 즉, 시스템 장애나 네트워크 문제에도 데이터가 항상 접근해야 한다는 것
> - 서버가 다운됐는데도 사진이 여전히 열려 있는 것은 가용성이 보잔된 상태
> - 

1. S3 Standard
	1. 자주 액세스하는 데이터용으로 설계
	2. 최소 3개의 가용 영역에 데이터를 저장
	3. 객체에 대한 고가용성을 제공한다. 광범위한 가용 사례에 적합하다.
	4. 자주 액세스하지 않는 데이터 및 아카이브 스토리지를 위한 다른 스토리지 클래스보다 비용이 높다. 

> 아카이브 스토리지란?
> - 자주 사용하지 않는 오래된 데이터를 장기 보관하는 저장소
> - 접근 속도: 느림
> - 저장 비용: 매우 저렴
> - 사용 빈도: 거의 없음
> - 예시: 오래된 로그, 백업 데이터, 규제상 보관해야 하는 문서

2. S3 Standard-Infrequent Access (S3 Standard-IA)
	1. 자주 액세스하지 않는 데이터에 이상적
	2. standard와 비슷하지만 스토리지 가격은 더 저렴하고 검색 가격은 높음
	3. 필요에 따라 고가용성이 요구되는 데이터에 이상적이다.
	4. standard와 동일한 수준의 가용성을 제공하지만 스토리지 가격은 더 저렴하고 검색 가격은 더 높다. 

> 검색 가격이 더 높다?
> 데이터를 꺼낼 때(검색/복원) 비용이 더 든다는 의미
> 파일을 저장할 때는 거의 공짜 수준이지만, 꺼내 보거나 다운로드하려면 돈을 꽤 내야 한다는 의미
> 

3. One Zone-Infrequent Access(S3 One Zone-IA)
	1. 단일 가용 영역에 데이터를 저장
	2. Amazon Standard-IA 보다 낮은 스토리지 가격
	3. Standard, Standard-IA와 달리 S3 One Zone-IA는 단일 가용 영역에 데이터를 저장한다. 따라서 스토리지 비용을 절감하려는 경우, 가용 영역 장애가 발생할 경우 데이터를 손쉽게 재현할 수 있는 경우에 고려할 수 잇는 스토리지 클래스
4. S3 Intelligenct-Tiering
	1. 액세스 패턴을 알 수 없거나 자주 변화하는 데이터에 이상적
	2. 객체당 소량의 월별 모니터링 및 자동화 요금을 부과
	3. 객체의 액세스 패턴을 모니터링한다. 30일 연속 객체에 액세스하지 않으면 S3는 자동으로 해당 객체를 자주 사용하지 않는 액세스 계층인 Standard-IA로 이동된다. 자주 사용하지 않는 액세스 계층에 저장된 객체에 액세스하면 자동으로 해당 객체를 자주 사용하는 액세스 계층인 S3 Standard로 이동된다.
5. S3 Glacier Instant Retrieval
	1. 즉각적인 액세스가 필요한 아카이브 데이터에 적합
	2. 몇 밀리초 안에 객체 검색 가능
	3. 빨리 검색하는데 유용
6. Gracier Flexible Retrival
	1. 데이터 보관용으로 설계된 저비용 스토리지
	2. 객체를 몇 분에서 몇 시간 이내에 검색
	3. 이 스토리지 클래스를 사용하여 보관된 고객 레코드나 오래된 사진 또는 동영상 파일을 저장할 수 있다. 여기에 보관된 데이터는 1분 ~ 12시간 내에 검색할 수 있다.
7. Gracier Deep Achive